{
  "query": "SELECT st.id, st.userId, st.issueTitle, COUNT(tr.id) as total_replies, SUM(CASE WHEN tr.isAdmin = 1 AND tr.isReadByUser = 0 THEN 1 ELSE 0 END) as unread_admin_replies FROM supportTickets st LEFT JOIN ticketReplies tr ON st.id = tr.ticketId GROUP BY st.id ORDER BY st.id;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user N4kPE9xHcBqcJ7A.925911140993 --database fSQyfmdSvtTzG7Fo7nT3qq --execute SELECT st.id, st.userId, st.issueTitle, COUNT(tr.id) as total_replies, SUM(CASE WHEN tr.isAdmin = 1 AND tr.isReadByUser = 0 THEN 1 ELSE 0 END) as unread_admin_replies FROM supportTickets st LEFT JOIN ticketReplies tr ON st.id = tr.ticketId GROUP BY st.id ORDER BY st.id;",
  "rows": [
    {
      "id": "90001",
      "userId": "1",
      "issueTitle": "ㄉˇ",
      "total_replies": "8",
      "unread_admin_replies": "2"
    },
    {
      "id": "90002",
      "userId": "1",
      "issueTitle": "有問題",
      "total_replies": "0",
      "unread_admin_replies": "0"
    },
    {
      "id": "90004",
      "userId": "930432",
      "issueTitle": "sdaasd",
      "total_replies": "5",
      "unread_admin_replies": "3"
    }
  ],
  "messages": [],
  "stdout": "id\tuserId\tissueTitle\ttotal_replies\tunread_admin_replies\n90001\t1\tㄉˇ\t8\t2\n90002\t1\t有問題\t0\t0\n90004\t930432\tsdaasd\t5\t3\n",
  "stderr": "",
  "execution_time_ms": 1613
}